{% schema %}
{
  "name": "Fotric Video Reviews",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Fotric Reviews"
    }
  ],
  "blocks": [
    {
      "type": "review",
      "name": "Review",
      "settings": [
        {
          "type": "text",
          "id": "youtube_link",
          "label": "YouTube Video Link"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description"
        },
        {
          "type": "text",
          "id": "views",
          "label": "Views",
          "default": "75K Views"
        },
        {
          "type": "text",
          "id": "author_name",
          "label": "Author Name",
          "default": "Steve"
        },
        {
          "type": "image_picker",
          "id": "author_avatar",
          "label": "Author Avatar"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Fotric Video Carousel",
      "category": "Custom",
      "blocks": [
        { "type": "review" },
        { "type": "review" },
        { "type": "review" }
      ]
    }
  ]
}
{% endschema %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">

<div class="ftric-section container">
  <h2>{{ section.settings.heading }}</h2>

  <div class="swiper ftric-swiper">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <div class="swiper-slide ftric-card">

          <div class="ftric-video-wrapper">
            <iframe
              src="https://www.youtube.com/embed/{{ block.settings.youtube_link | split: 'v=' | last }}"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen>
            </iframe>
          </div>

          <div class="ftric-content">
            <p class="ftric-description">{{ block.settings.description }}</p>
            <p class="ftric-views">{{ block.settings.views }}</p>

            <div class="ftric-author">
              {% if block.settings.author_avatar != blank %}
                <img
                  src="{{ block.settings.author_avatar | image_url: width: 40 }}"
                  class="ftric-avatar"
                  alt="{{ block.settings.author_name }}">
              {% endif %}
              <span>{{ block.settings.author_name }}</span>
            </div>
          </div>

        </div>
      {% endfor %}
    </div>
  </div>
</div>

<style>
.ftric-section {
 
}

.ftric-section h2 {
  margin-bottom: 32px;
  text-align: center;
  color: #1b1306;
}

.ftric-card {
   
    border-radius: 8px;
  
    overflow: hidden;
    background: #EDEDED;
}

.ftric-video-wrapper iframe {
  width: 100%;
  height: 210px;
  border-radius: 0px;
}

.ftric-content {
  padding: 16px;
}

.ftric-description {
  font-size: 14px !important;
  color: #000000;
  font-weight:500 !important;
  margin-bottom: 16px;
}

.ftric-views {
  font-size: 14px !important;
  color: #000;
  margin-bottom: 16px;
}

.ftric-author {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size:14px;
}

.ftric-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
}
@media (min-width: 750px) {

    .ftric-section.container{

        padding-top: 5.6rem;
        padding-bottom: 5.6rem;
    }

}
@media (max-width: 767px) {
  .ftric-video-wrapper iframe {
    height: 163px;
  }
  .ftric-section.container{

    padding-top: 4.8rem;
    padding-bottom: 4.8rem;
}
  
}
</style>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  new Swiper(".ftric-swiper", {
    slidesPerView: 3,
    spaceBetween: 20,
    freeMode: true,
    grabCursor: true,
    pagination: false,
    navigation: false,
    breakpoints: {
      0: { slidesPerView: 1.3 },
      768: { slidesPerView: 2 },
      1200: { slidesPerView: 3 }
    }
  });
});
</script>
